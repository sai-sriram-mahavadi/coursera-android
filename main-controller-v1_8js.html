<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>UnifiedStack: input/UnifiedStack/unifiedstack/configurator/static/configurator/js/deprecated/main-controller-v1.js File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">UnifiedStack
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('main-controller-v1_8js.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main-controller-v1.js File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="main-controller-v1_8js_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a03978e7554877701a6f83929b3b3e7e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log-controller_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main-controller-v1_8js.html#a03978e7554877701a6f83929b3b3e7e4">controller</a> (&quot;mainController&quot;, function($scope, $http, $<a class="el" href="logger_2static_2js_2vendor_2angular-resource_8js.html#a04a8a2bbfa9c15500892b8e5033d625b">window</a>, $resource, $compile, $<a class="el" href="ui-bootstrap-tpls-0_811_82_8js.html#acc6683281ee3ed362600ffe1c4970e33">parse</a>, ngDialog, $interpolate, $log){$scope.result_message=&quot;Initial Result Message&quot;;$scope.$log=$log;$<a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">scope.data</a>={}$scope.data.settings={}$scope.data.devices=[] $scope.data.device_types={}$scope.data.newdevice={}var api_host=&quot;localhost&quot;;var api_port=8000;var api_prefix=&quot;http://&quot;+api_host+&quot;:&quot;+api_port+&quot;/&quot;$scope.loadDeviceTypes=function(){var url=api_prefix+&quot;configurator/api/v1.0/dtl&quot;$http.get(url).<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#ad762602853506223a93152b1603ef2f1">then</a>(function(response){device_types=<a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">response.data</a>;<a class="el" href="raphael_8min_8js.html#ae2cd635fd2aa99a2f485fb2b3b62a027">for</a>(var <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>=0;<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>&lt; <a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">device_types.length</a>;<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>++){$scope.data.device_types[device_types[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>][0]]=device_types[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>][1];var device_type_button= '&lt; li &gt;&lt; <a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a55e170814e74f6c3db8ae9ea3ba9054f">button</a> <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a102818998483ccc8c61fc5f94a419e7b">style</a>=&quot;width:100%&quot;type=&quot;button&quot;'+ 'data-ng-<a class="el" href="flot-data_8js.html#af69b6808c31a0f6516024c1450edabb9">click</a>=&quot;showAddDeviceDialog(\'' + device_types[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>][0] + '\')&quot;'+ 'class=&quot;btn btn-success&quot;&gt;Add '+device_types[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>][1]+ 'Settings&lt;/<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a55e170814e74f6c3db8ae9ea3ba9054f">button</a> &gt;&lt;/li &gt;';var compiled_device_type_button=$compile(device_type_button)($scope);$('#device-type-nav').append(compiled_device_type_button);}})};$scope.showAddDeviceDialog=function(selectedDevice){<a class="el" href="ui-bootstrap-tpls-0_811_82_8js.html#a2128111175d3e8d14573abfee4fd901a">ngDialog.open</a>({template: '&lt; <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> &gt;&lt; br/&gt;'+'&lt; <a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a7c192e47b11481e4717b9f1e04eb4420">b</a>&quot;style=&quot;color:Green&quot;&gt;Add New '+ $scope.data.device_types[selectedDevice] + '&lt;/<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a7c192e47b11481e4717b9f1e04eb4420">b</a>&gt;&lt;br/&gt;' + 
			'Title: &lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a3f02f9666af9f3831c7a8a654cd3a05b">input</a> type=&quot;text&quot; ng-model=&quot;data.newdevice.title&quot; /&gt; &lt;br/&gt;' + 
			'Desc: &lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a3f02f9666af9f3831c7a8a654cd3a05b">input</a> type=&quot;text&quot; ng-model=&quot;data.newdevice.desc&quot;/&gt; &lt;br/&gt;' +
			'&lt;<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a55e170814e74f6c3db8ae9ea3ba9054f">button</a> <a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">data</a>-ng-<a class="el" href="flot-data_8js.html#af69b6808c31a0f6516024c1450edabb9">click</a>=addDevice(&quot;'+selectedDevice+ '&quot;)&gt;Add Device&lt;/<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a55e170814e74f6c3db8ae9ea3ba9054f">button</a>&gt;' +
		      '&lt;/<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a>&gt;',
	    plain: true,
	    scope:$scope
	});
    }  

    // Util function to help identify and breakdown compound settings
    // Plus store it into the $scope.devices[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].settings
    
    $scope.addDeviceSetting = function(device_id, type_setting_id, label){
	$log.info(&quot;Adding <a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a2c7a1513102e6c7d7d1e67039dafebe4">a</a> Setting&quot;);
	// Id to be placed in front of the 
	var type_setting_div_id = 'setting-'+ device_id + '-' + type_setting_id;
	var url = api_prefix + &quot;configurator/api/v1.0/dslist/&quot; + device_id;
	var Setting = $resource(url,{});
	var setting = new Setting();
	setting.device_id = device_id;
	setting.type_setting_id = type_setting_id;
	<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a9d32b6baf31ab8047d93bf7e388971b9">setting.value</a> = &quot;&quot;
	//var newDevice = {}
	setting.$save(setting,
	    //success
	    function( <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a9d32b6baf31ab8047d93bf7e388971b9">value</a> ){
		// Getting the id associated to
		// the newly added setting
		var newSetting = <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a9d32b6baf31ab8047d93bf7e388971b9">value</a>;
		var setting_div_id = type_setting_div_id + '-' + newSetting.id;
		var setting_model = 'setting_'+ device_id + &quot;_&quot; +
				    type_setting_id + &quot;_&quot; + newSetting.id;

		$log.info(&quot;DeviceSetting id:&quot; + setting_div_id);
		device_html = '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> id=&quot;'+setting_div_id+ '&quot; class=&quot;setting&quot;&gt;';
		
		var label_str = label.trim();
		var setting_html = &quot;&quot;
		<a class="el" href="logger_2static_2js_2vendor_2modernizr-2_86_82-respond-1_81_80_8min_8js.html#a93851d60dd037a83509a1757b9ee7b66">if</a>(label_str[<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">label_str.length</a>-1]==')'){
		    $log.info(&quot;Compound Setting:&quot; + setting_div_id + &quot;,&quot; + label_str);
		    // Removing the last ')' character
		    label_str = label_str.substr(0, <a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">label_str.length</a>-1);
		    // Seperating the compound setting main label with
		    // label tokens
		    var tokens = label_str.split('(');
		    var label_main = tokens[0].trim();
		    var label_tokens = tokens[1].split(';');
		    // device_html += '&lt;label&gt;' + label_main + '&lt;/label&gt;';
		    <a class="el" href="raphael_8min_8js.html#ae2cd635fd2aa99a2f485fb2b3b62a027">for</a> (var <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>=0; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>&lt;<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">label_tokens.length</a>; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>++) {
			subsetting_model = setting_model + &quot;_&quot; + i;
			$log.info(&quot;Sub Field:&quot; + label_tokens[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].trim() + &quot;;Id:&quot; + subsetting_model);
			device_html += '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a3f02f9666af9f3831c7a8a654cd3a05b">input</a> type&quot;text&quot; placeholder=&quot;'+label_tokens[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].trim()+'&quot; ng-model=&quot;'+subsetting_model+ '&quot;/&gt;'
			setting_html += '{{' + subsetting_model + '}};';
		    }	    
		} <a class="el" href="data_tables_8bootstrap_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{
		    $log.info(&quot;SimpleSetting:&quot; + setting_div_id + &quot;,&quot; + label_str);
		    device_html += '&lt;label&gt;' + label + '&lt;/label&gt;';
		    device_html += '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a3f02f9666af9f3831c7a8a654cd3a05b">input</a> type=&quot;text&quot; ng-model=&quot;'+setting_model+ '&quot;/&gt;';
		    setting_html += '{{' + setting_model + '}};';
		}
		<a class="el" href="logger_2static_2js_2vendor_2modernizr-2_86_82-respond-1_81_80_8min_8js.html#a93851d60dd037a83509a1757b9ee7b66">if</a> (<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">setting_html.length</a>&gt;=1) { 
		    setting_html = setting_html.substring(0, <a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">setting_html.length</a>-1)
		}
		var compiled_device_html = $compile(device_html)($scope)
		$('#'+type_setting_div_id).append(compiled_device_html);
		
		$scope.data.settings[setting_model] = $interpolate(setting_html);
		
		$log.info(&quot;Setting model assigned as:&quot; + setting_html);
	    },
	    
	    function( error ){
		$<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#aaa41eef066735d697e7786ec86d52389">window.alert</a>(&quot;Some trouble adding setting&quot;);
	    }
	) }  $scope.addDeviceSettings = function(newDevice){  url = api_prefix + &quot;configurator/api/v1.0/dtsl/&quot; + newDevice.dtype;  $http.get(url).<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#ad762602853506223a93152b1603ef2f1">then</a>(function (response) {
	    var device_type_settings = <a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">response.data</a>;
	    <a class="el" href="raphael_8min_8js.html#ae2cd635fd2aa99a2f485fb2b3b62a027">for</a> (var <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>=0; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>&lt;<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">device_type_settings.length</a>; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>++){
		var type_setting_id = 'setting-'+ newDevice.id + '-' + device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].id;
		$log.info(&quot;Type Setting id:&quot; + type_setting_id);
		var device_html = '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> id=&quot;'+type_setting_id+ '&quot; class=&quot;type-setting&quot;&gt;'
		var label_str = device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].label.trim();
		<a class="el" href="logger_2static_2js_2vendor_2modernizr-2_86_82-respond-1_81_80_8min_8js.html#a93851d60dd037a83509a1757b9ee7b66">if</a> (device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].multiple==true) {
		    $log.info(type_setting_id  + &quot;:is multiple&quot;);
		    var tokens = device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].label.split('(');
		    var label_main = tokens[0].trim();
		    device_html += '&lt;label&gt;' + label_main + '&lt;/label&gt;';
		    $log.log('&quot;addDeviceSetting('+newDevice.id+ ', '+device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].id+ ',\''+device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].label+ '\')&quot;');
		    
		    device_html += '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a102818998483ccc8c61fc5f94a419e7b">style</a>=&quot;float:right&quot;&gt;&lt;a href=&quot;#&quot; <a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">data</a>-ng-<a class="el" href="flot-data_8js.html#af69b6808c31a0f6516024c1450edabb9">click</a>=&quot;addDeviceSetting('+newDevice.id+ ', '+device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].id+ ',\''+device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].label+ '\')&quot;&gt;Add One&lt;/<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a2c7a1513102e6c7d7d1e67039dafebe4">a</a>&gt; | &lt;<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a2c7a1513102e6c7d7d1e67039dafebe4">a</a> href=&quot;#&quot; &gt;Add More&lt;/<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a2c7a1513102e6c7d7d1e67039dafebe4">a</a>&gt;&lt;/<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a>&gt; &lt;br/&gt;';
		} <a class="el" href="data_tables_8bootstrap_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="logger_2static_2js_2vendor_2modernizr-2_86_82-respond-1_81_80_8min_8js.html#a93851d60dd037a83509a1757b9ee7b66">if</a>(label_str[<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">label_str.length</a> - 1]==')'){
		    var tokens = device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].label.split('(');
		    var label_main = tokens[0].trim();
		    device_html += '&lt;label&gt;' + label_main + '&lt;/label&gt;'
		} <a class="el" href="data_tables_8bootstrap_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{
		    $log.info(type_setting_id  + &quot;:is not multiple&quot;);
		}
		device_html += '&lt;/<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a>&gt;'
		var compiled_device_html = $compile(device_html)($scope);
		$('#device-'+newDevice.id).append(compiled_device_html);
		$scope.addDeviceSetting(newDevice.id, device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].id,
					device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].label);
	    }
	}) }   $scope.addDevice = function(device_type){  <a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a0910dda0a69d3a18ab63004e10ec17b8">ngDialog.close</a>()  var url = api_prefix + &quot;configurator/api/v1.0/dlist/&quot; var Device = $resource(url,{}); var device = new Device(); device.dtype = device_type; device.title = $scope.data.newdevice.title; device.desc = $scope.data.newdevice.desc;  device.$save(device,
	    
	    function( <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a9d32b6baf31ab8047d93bf7e388971b9">value</a> ){
		
		
		$scope.data.newdevice = <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a9d32b6baf31ab8047d93bf7e388971b9">value</a>;
		var device_html =
		    '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> id=&quot;device-'+value.id+ '&quot;&gt;' +
			'&lt;h2&gt;'+ $scope.data.device_types[value.dtype] + &quot;-&quot; + value.title + '&lt;/h2&gt;' + 				    
		    '&lt;/<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a>&gt;'
		$log.info(&quot;Device Added:&quot; + device_html);
		var compiled_device_html = $compile(device_html)($scope)
		
		$('#devices-holder').append(compiled_device_html);
		
    		$log.info(&quot;Device being added into scope:&quot; + value.id );
		$scope.addDeviceSettings(<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a9d32b6baf31ab8047d93bf7e388971b9">value</a>);
		$log.info(&quot;Device after adding Settings:&quot; + value.settings)
		
	    },
	    
	    function( error ){
		$<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#aaa41eef066735d697e7786ec86d52389">window.alert</a>(&quot;Some trouble adding device&quot;);
	    }
	) }; $scope.loadExistingDeviceSetting = function(device, setting){ var url = api_prefix + &quot;configurator/api/v1.0/dtsget/&quot; + setting.device_type_setting_id; $log.info(&quot;Existing device setting url:&quot; + url); var device_div_id = &quot;device-&quot; + device.id; var type_setting_div_id = &quot;setting-&quot; + device.id + &quot;-&quot; + setting.device_type_setting_id; var setting_div_id = type_setting_div_id + &quot;-&quot; + setting.id; var setting_model = &quot;setting_&quot; + device.id + &quot;_&quot; + setting.device_type_setting_id + &quot;_&quot; + setting.id; $log.info(device_div_id + &quot;,&quot; + type_setting_div_id + &quot;,&quot; + setting_model); var device_html = &quot;&quot;; $http.get(url).<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#ad762602853506223a93152b1603ef2f1">then</a>(function (response) {
	    var type_setting = <a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">response.data</a>;
	    $log.info(&quot;Label:&quot; + type_setting.label );
	    
	    var label_str = type_setting.label.trim();
	    
	    <a class="el" href="logger_2static_2js_2vendor_2modernizr-2_86_82-respond-1_81_80_8min_8js.html#a93851d60dd037a83509a1757b9ee7b66">if</a>( $('#'+type_setting_div_id).<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">length</a> == 0 ){
		device_html = '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> id=&quot;'+type_setting_div_id+ '&quot; class=&quot;type-setting&quot;&gt;';
		if (type_setting.multiple==true) {
		    $log.info(type_setting_div_id  + &quot;:is multiple&quot;);
		    var tokens = type_setting.label.split('(');
		    var label_main = tokens[0].trim();
		    device_html += '&lt;label&gt;' + label_main + '&lt;/label&gt;';
		    $log.log('&quot;addDeviceSetting('+device.id+ ', '+type_setting.id+ ',\''+type_setting.label+ '\')&quot;');
		    
		    device_html += '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a102818998483ccc8c61fc5f94a419e7b">style</a>=&quot;float:right&quot;&gt;&lt;a href=&quot;#&quot; <a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">data</a>-ng-<a class="el" href="flot-data_8js.html#af69b6808c31a0f6516024c1450edabb9">click</a>=&quot;addDeviceSetting('+device.id+ ', '+type_setting.id+ ',\''+type_setting.label+ '\')&quot;&gt;Add One&lt;/<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a2c7a1513102e6c7d7d1e67039dafebe4">a</a>&gt; | &lt;<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a2c7a1513102e6c7d7d1e67039dafebe4">a</a> href=&quot;#&quot; &gt;Add More&lt;/<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a2c7a1513102e6c7d7d1e67039dafebe4">a</a>&gt;&lt;/<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a>&gt; &lt;br/&gt;';
		} <a class="el" href="data_tables_8bootstrap_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="logger_2static_2js_2vendor_2modernizr-2_86_82-respond-1_81_80_8min_8js.html#a93851d60dd037a83509a1757b9ee7b66">if</a>(label_str[<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">label_str.length</a> - 1]==')'){
		    var tokens = type_setting.label.split('(');
		    var label_main = tokens[0].trim();
		    device_html += '&lt;label&gt;' + label_main + '&lt;/label&gt;'
		} <a class="el" href="data_tables_8bootstrap_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{
		    $log.info(type_setting_div_id  + &quot;:is not multiple&quot;);
		}
		device_html += '&lt;/<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a>&gt;'
		var compiled_device_html = $compile(device_html)($scope);
		$('#'+device_div_id).append(compiled_device_html)
	    }
	    
	    device_html = '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> id=&quot;'+setting_div_id+ '&quot; class=&quot;setting&quot;&gt;';
	    var setting_html = &quot;&quot;
	    <a class="el" href="logger_2static_2js_2vendor_2modernizr-2_86_82-respond-1_81_80_8min_8js.html#a93851d60dd037a83509a1757b9ee7b66">if</a>(label_str[<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">label_str.length</a>-1]==')'){
		$log.info(&quot;Compound Setting:&quot; + setting_div_id + &quot;,&quot; + label_str);
		
		label_str = label_str.substr(0, <a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">label_str.length</a>-1);
		
		
		var tokens = label_str.split('(');
		var label_main = tokens[0].trim();
		var label_tokens = tokens[1].split(';');
		var value_tokens = setting.value.trim().split(';');
		
		<a class="el" href="raphael_8min_8js.html#ae2cd635fd2aa99a2f485fb2b3b62a027">for</a> (var <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>=0; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>&lt;<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">label_tokens.length</a>; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>++) {
		    subsetting_model = setting_model + &quot;_&quot; + i;
		    $log.info(&quot;Sub Field:&quot; + label_tokens[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].trim() + &quot;;Id:&quot; + subsetting_model);
		    device_html += '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a3f02f9666af9f3831c7a8a654cd3a05b">input</a> type&quot;text&quot; placeholder=&quot;'+label_tokens[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].trim()+ '&quot; ng-model=&quot;'+subsetting_model+ '&quot;/&gt;'
		    setting_html += '{{' + subsetting_model + '}};';
		    var subsetting_model_var = $<a class="el" href="ui-bootstrap-tpls-0_811_82_8js.html#acc6683281ee3ed362600ffe1c4970e33">parse</a>(subsetting_model);
		    subsetting_model_var.assign($scope, value_tokens[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>]);
		}	    
	    } <a class="el" href="data_tables_8bootstrap_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{
		$log.info(&quot;SimpleSetting:&quot; + setting_div_id + &quot;,&quot; + label_str);
		device_html += '&lt;label&gt;' + label_str + '&lt;/label&gt;';
		device_html += '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a3f02f9666af9f3831c7a8a654cd3a05b">input</a> type=&quot;text&quot; ng-model=&quot;'+setting_model+ '&quot;/&gt;';
		setting_html += '{{' + setting_model + '}};';
		var setting_model_var = $<a class="el" href="ui-bootstrap-tpls-0_811_82_8js.html#acc6683281ee3ed362600ffe1c4970e33">parse</a>(setting_model);
		setting_model_var.assign($scope, <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a9d32b6baf31ab8047d93bf7e388971b9">setting.value</a>);
	    }
	    <a class="el" href="logger_2static_2js_2vendor_2modernizr-2_86_82-respond-1_81_80_8min_8js.html#a93851d60dd037a83509a1757b9ee7b66">if</a> (<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">setting_html.length</a>&gt;=1) { 
		setting_html = setting_html.substring(0, <a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">setting_html.length</a>-1)
	    }
	    var compiled_device_html = $compile(device_html)($scope)
	    $('#'+type_setting_div_id).append(compiled_device_html);
	    
	    $scope.data.settings[setting_model] = $interpolate(setting_html);
	}) }; $scope.loadExistingDeviceSettings = function(device){ var url = api_prefix + &quot;configurator/api/v1.0/dslist/&quot; + device.id; $http.get(url).<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#ad762602853506223a93152b1603ef2f1">then</a>(function (response) {
	    var settings = <a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">response.data</a>;
	    <a class="el" href="raphael_8min_8js.html#ae2cd635fd2aa99a2f485fb2b3b62a027">for</a> (var <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>=0; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>&lt;<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">settings.length</a>; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>++) {
		$log.info(&quot;Value:&quot; + settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a9d32b6baf31ab8047d93bf7e388971b9">value</a>);
		$scope.loadExistingDeviceSetting(device, settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>]);
	    }
	}) };  $scope.loadExistingDevices = function(){ $log.info(&quot;Starte loading existing devices&quot;); var url = api_prefix + &quot;configurator/api/v1.0/dlist&quot; $http.get(url).<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#ad762602853506223a93152b1603ef2f1">then</a>(function (response) {
	    
	    var devices = <a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">response.data</a>;
	    <a class="el" href="raphael_8min_8js.html#ae2cd635fd2aa99a2f485fb2b3b62a027">for</a> (var <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>=0; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>&lt;<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">devices.length</a> &amp;&amp; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>&lt;10; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>++){
		$log.info(<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a> + &quot;:Device:Title-&quot; + devices[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].title + &quot;Type-&quot; + devices[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].dtype );
		$log.info($scope.data.device_types[devices[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].dtype]);
		var device_html =
		    '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> id=&quot;device-'+devices[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].id+ '&quot;&gt;' +
			'&lt;h2&gt;'+ $scope.data.device_types[devices[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].dtype] + &quot;-&quot; + devices[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].title + '&lt;/h2&gt;' + 				    
		    '&lt;/<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a>&gt;'
		$log.info(&quot;Device Added:&quot; + device_html);
		var compiled_device_html = $compile(device_html)($scope);
		$('#devices-holder').append(compiled_device_html);
		$scope.loadExistingDeviceSettings(devices[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>]);
	    }
	}) };  $scope.clearSettings = function(){ $scope.data.settings = {} $('#devices-holder').html(&quot;&quot;); } $scope.reloadConfiguration = function(){ $<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#aaa41eef066735d697e7786ec86d52389">window.alert</a>(&quot;Reloading the configuration...&quot;); var url = api_prefix + &quot;configurator/api/v1.0/reload&quot;; $http.get(url).<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#ad762602853506223a93152b1603ef2f1">then</a>(function (response) {
	    $<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#aaa41eef066735d697e7786ec86d52389">window.alert</a>(&quot;Configuration Completed&quot;);
	    $scope.clearSettings()
	    $scope.loadExistingDevices();
	}) }; $scope.configure = function(){ $log.info(&quot;Started Configuration&quot;); var url = api_prefix + &quot;configurator/api/v1.0/configure&quot;; var Configuration = $resource(url,{}); var configuration = new Configuration(); <a class="el" href="raphael_8min_8js.html#ae2cd635fd2aa99a2f485fb2b3b62a027">for</a> (var setting in $scope.data.settings) {  setting_value = $scope.$eval($scope.data.settings[setting]); configuration[setting] = setting_value; $log.info(&quot;Setting:&quot; + setting + &quot;,&quot; + setting_value);  } configuration.$save(configuration); } $scope.loadDeviceTypes(); $scope.loadExistingDevices();   })</td></tr>
<tr class="separator:a03978e7554877701a6f83929b3b3e7e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7b225fcb720e4d5ed2bbf60e28a25e6d"><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main-controller-v1_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a> = <a class="el" href="logger_2static_2js_2vendor_2angular-resource_8min_8js.html#a5a1c2e576e2e0b15e4a668ccb70c14a4">angular.module</a>(&quot;configurator&quot;, ['ngResource', 'ngDialog'])</td></tr>
<tr class="separator:a7b225fcb720e4d5ed2bbf60e28a25e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a03978e7554877701a6f83929b3b3e7e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log-controller_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a> controller </td>
          <td>(</td>
          <td class="paramtype">&quot;mainController&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function($scope, $http, $<a class="el" href="logger_2static_2js_2vendor_2angular-resource_8js.html#a04a8a2bbfa9c15500892b8e5033d625b">window</a>, $resource, $compile, $<a class="el" href="ui-bootstrap-tpls-0_811_82_8js.html#acc6683281ee3ed362600ffe1c4970e33">parse</a>, ngDialog, $interpolate, $log){$scope.result_message=&quot;Initial Result Message&quot;;$scope.$log=$log;$<a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">scope.data</a>={}$scope.data.settings={}$scope.data.devices=[] $scope.data.device_types={}$scope.data.newdevice={}var api_host=&quot;localhost&quot;;var api_port=8000;var api_prefix=&quot;http://&quot;+api_host+&quot;:&quot;+api_port+&quot;/&quot;$scope.loadDeviceTypes=function(){var url=api_prefix+&quot;configurator/api/v1.0/dtl&quot;$http.get(url).<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#ad762602853506223a93152b1603ef2f1">then</a>(function(response){device_types=<a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">response.data</a>;<a class="el" href="raphael_8min_8js.html#ae2cd635fd2aa99a2f485fb2b3b62a027">for</a>(var <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>=0;<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>&lt; <a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">device_types.length</a>;<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>++){$scope.data.device_types[device_types[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>][0]]=device_types[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>][1];var device_type_button= '&lt; li &gt;&lt; <a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a55e170814e74f6c3db8ae9ea3ba9054f">button</a> <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a102818998483ccc8c61fc5f94a419e7b">style</a>=&quot;width:100%&quot;type=&quot;button&quot;'+ 'data-ng-<a class="el" href="flot-data_8js.html#af69b6808c31a0f6516024c1450edabb9">click</a>=&quot;showAddDeviceDialog(\'' + device_types[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>][0] + '\')&quot;'+ 'class=&quot;btn btn-success&quot;&gt;Add '+device_types[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>][1]+ 'Settings&lt;/<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a55e170814e74f6c3db8ae9ea3ba9054f">button</a> &gt;&lt;/li &gt;';var compiled_device_type_button=$compile(device_type_button)($scope);$('#device-type-nav').append(compiled_device_type_button);}})};$scope.showAddDeviceDialog=function(selectedDevice){<a class="el" href="ui-bootstrap-tpls-0_811_82_8js.html#a2128111175d3e8d14573abfee4fd901a">ngDialog.open</a>({template: '&lt; <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> &gt;&lt; br/&gt;'+'&lt; <a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a7c192e47b11481e4717b9f1e04eb4420">b</a>&quot;style=&quot;color:Green&quot;&gt;Add New '+ $scope.data.device_types[selectedDevice] + '&lt;/<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a7c192e47b11481e4717b9f1e04eb4420">b</a>&gt;&lt;br/&gt;' + 			'Title: &lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a3f02f9666af9f3831c7a8a654cd3a05b">input</a> type=&quot;text&quot; ng-model=&quot;data.newdevice.title&quot; /&gt; &lt;br/&gt;' + 			'Desc: &lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a3f02f9666af9f3831c7a8a654cd3a05b">input</a> type=&quot;text&quot; ng-model=&quot;data.newdevice.desc&quot;/&gt; &lt;br/&gt;' +			'&lt;<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a55e170814e74f6c3db8ae9ea3ba9054f">button</a> <a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">data</a>-ng-<a class="el" href="flot-data_8js.html#af69b6808c31a0f6516024c1450edabb9">click</a>=addDevice(&quot;'+selectedDevice+ '&quot;)&gt;Add Device&lt;/<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a55e170814e74f6c3db8ae9ea3ba9054f">button</a>&gt;' +		      '&lt;/<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a>&gt;',	    plain: true,	    scope:$scope	});    }      // Util function to help identify and breakdown compound settings    // Plus store it into the $scope.devices[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].settings        $scope.addDeviceSetting = function(device_id, type_setting_id, label){	$log.info(&quot;Adding <a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a2c7a1513102e6c7d7d1e67039dafebe4">a</a> Setting&quot;);	// Id to be placed in front of the 	var type_setting_div_id = 'setting-'+ device_id + '-' + type_setting_id;	var url = api_prefix + &quot;configurator/api/v1.0/dslist/&quot; + device_id;	var Setting = $resource(url,{});	var setting = new Setting();	setting.device_id = device_id;	setting.type_setting_id = type_setting_id;	<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a9d32b6baf31ab8047d93bf7e388971b9">setting.value</a> = &quot;&quot;	//var newDevice = {}	setting.$save(setting,	    //success	    function( <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a9d32b6baf31ab8047d93bf7e388971b9">value</a> ){		// Getting the id associated to		// the newly added setting		var newSetting = <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a9d32b6baf31ab8047d93bf7e388971b9">value</a>;		var setting_div_id = type_setting_div_id + '-' + newSetting.id;		var setting_model = 'setting_'+ device_id + &quot;_&quot; +				    type_setting_id + &quot;_&quot; + newSetting.id;		$log.info(&quot;DeviceSetting id:&quot; + setting_div_id);		device_html = '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> id=&quot;'+setting_div_id+ '&quot; class=&quot;setting&quot;&gt;';				var label_str = label.trim();		var setting_html = &quot;&quot;		<a class="el" href="logger_2static_2js_2vendor_2modernizr-2_86_82-respond-1_81_80_8min_8js.html#a93851d60dd037a83509a1757b9ee7b66">if</a>(label_str[<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">label_str.length</a>-1]==')'){		    $log.info(&quot;Compound Setting:&quot; + setting_div_id + &quot;,&quot; + label_str);		    // Removing the last ')' character		    label_str = label_str.substr(0, <a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">label_str.length</a>-1);		    // Seperating the compound setting main label with		    // label tokens		    var tokens = label_str.split('(');		    var label_main = tokens[0].trim();		    var label_tokens = tokens[1].split(';');		    // device_html += '&lt;label&gt;' + label_main + '&lt;/label&gt;';		    <a class="el" href="raphael_8min_8js.html#ae2cd635fd2aa99a2f485fb2b3b62a027">for</a> (var <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>=0; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>&lt;<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">label_tokens.length</a>; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>++) {			subsetting_model = setting_model + &quot;_&quot; + i;			$log.info(&quot;Sub Field:&quot; + label_tokens[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].trim() + &quot;;Id:&quot; + subsetting_model);			device_html += '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a3f02f9666af9f3831c7a8a654cd3a05b">input</a> type&quot;text&quot; placeholder=&quot;'+label_tokens[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].trim()+'&quot; ng-model=&quot;'+subsetting_model+ '&quot;/&gt;'			setting_html += '{{' + subsetting_model + '}};';		    }	    		} <a class="el" href="data_tables_8bootstrap_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{		    $log.info(&quot;SimpleSetting:&quot; + setting_div_id + &quot;,&quot; + label_str);		    device_html += '&lt;label&gt;' + label + '&lt;/label&gt;';		    device_html += '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a3f02f9666af9f3831c7a8a654cd3a05b">input</a> type=&quot;text&quot; ng-model=&quot;'+setting_model+ '&quot;/&gt;';		    setting_html += '{{' + setting_model + '}};';		}		<a class="el" href="logger_2static_2js_2vendor_2modernizr-2_86_82-respond-1_81_80_8min_8js.html#a93851d60dd037a83509a1757b9ee7b66">if</a> (<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">setting_html.length</a>&gt;=1) { 		    setting_html = setting_html.substring(0, <a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">setting_html.length</a>-1)		}		var compiled_device_html = $compile(device_html)($scope)		$('#'+type_setting_div_id).append(compiled_device_html);				$scope.data.settings[setting_model] = $interpolate(setting_html);				$log.info(&quot;Setting model assigned as:&quot; + setting_html);	    },	    	    function( error ){		$<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#aaa41eef066735d697e7786ec86d52389">window.alert</a>(&quot;Some trouble adding setting&quot;);	    }	) }  $scope.addDeviceSettings = function(newDevice){  url = api_prefix + &quot;configurator/api/v1.0/dtsl/&quot; + newDevice.dtype;  $http.get(url).<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#ad762602853506223a93152b1603ef2f1">then</a>(function (response) {	    var device_type_settings = <a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">response.data</a>;	    <a class="el" href="raphael_8min_8js.html#ae2cd635fd2aa99a2f485fb2b3b62a027">for</a> (var <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>=0; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>&lt;<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">device_type_settings.length</a>; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>++){		var type_setting_id = 'setting-'+ newDevice.id + '-' + device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].id;		$log.info(&quot;Type Setting id:&quot; + type_setting_id);		var device_html = '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> id=&quot;'+type_setting_id+ '&quot; class=&quot;type-setting&quot;&gt;'		var label_str = device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].label.trim();		<a class="el" href="logger_2static_2js_2vendor_2modernizr-2_86_82-respond-1_81_80_8min_8js.html#a93851d60dd037a83509a1757b9ee7b66">if</a> (device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].multiple==true) {		    $log.info(type_setting_id  + &quot;:is multiple&quot;);		    var tokens = device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].label.split('(');		    var label_main = tokens[0].trim();		    device_html += '&lt;label&gt;' + label_main + '&lt;/label&gt;';		    $log.log('&quot;addDeviceSetting('+newDevice.id+ ', '+device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].id+ ',\''+device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].label+ '\')&quot;');		    		    device_html += '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a102818998483ccc8c61fc5f94a419e7b">style</a>=&quot;float:right&quot;&gt;&lt;a href=&quot;#&quot; <a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">data</a>-ng-<a class="el" href="flot-data_8js.html#af69b6808c31a0f6516024c1450edabb9">click</a>=&quot;addDeviceSetting('+newDevice.id+ ', '+device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].id+ ',\''+device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].label+ '\')&quot;&gt;Add One&lt;/<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a2c7a1513102e6c7d7d1e67039dafebe4">a</a>&gt; | &lt;<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a2c7a1513102e6c7d7d1e67039dafebe4">a</a> href=&quot;#&quot; &gt;Add More&lt;/<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a2c7a1513102e6c7d7d1e67039dafebe4">a</a>&gt;&lt;/<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a>&gt; &lt;br/&gt;';		} <a class="el" href="data_tables_8bootstrap_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="logger_2static_2js_2vendor_2modernizr-2_86_82-respond-1_81_80_8min_8js.html#a93851d60dd037a83509a1757b9ee7b66">if</a>(label_str[<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">label_str.length</a> - 1]==')'){		    var tokens = device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].label.split('(');		    var label_main = tokens[0].trim();		    device_html += '&lt;label&gt;' + label_main + '&lt;/label&gt;'		} <a class="el" href="data_tables_8bootstrap_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{		    $log.info(type_setting_id  + &quot;:is not multiple&quot;);		}		device_html += '&lt;/<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a>&gt;'		var compiled_device_html = $compile(device_html)($scope);		$('#device-'+newDevice.id).append(compiled_device_html);		$scope.addDeviceSetting(newDevice.id, device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].id,					device_type_settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].label);	    }	}) }   $scope.addDevice = function(device_type){  <a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a0910dda0a69d3a18ab63004e10ec17b8">ngDialog.close</a>()  var url = api_prefix + &quot;configurator/api/v1.0/dlist/&quot; var Device = $resource(url,{}); var device = new Device(); device.dtype = device_type; device.title = $scope.data.newdevice.title; device.desc = $scope.data.newdevice.desc;  device.$save(device,	    	    function( <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a9d32b6baf31ab8047d93bf7e388971b9">value</a> ){						$scope.data.newdevice = <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a9d32b6baf31ab8047d93bf7e388971b9">value</a>;		var device_html =		    '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> id=&quot;device-'+value.id+ '&quot;&gt;' +			'&lt;h2&gt;'+ $scope.data.device_types[value.dtype] + &quot;-&quot; + value.title + '&lt;/h2&gt;' + 				    		    '&lt;/<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a>&gt;'		$log.info(&quot;Device Added:&quot; + device_html);		var compiled_device_html = $compile(device_html)($scope)				$('#devices-holder').append(compiled_device_html);		    		$log.info(&quot;Device being added into scope:&quot; + value.id );		$scope.addDeviceSettings(<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a9d32b6baf31ab8047d93bf7e388971b9">value</a>);		$log.info(&quot;Device after adding Settings:&quot; + value.settings)			    },	    	    function( error ){		$<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#aaa41eef066735d697e7786ec86d52389">window.alert</a>(&quot;Some trouble adding device&quot;);	    }	) }; $scope.loadExistingDeviceSetting = function(device, setting){ var url = api_prefix + &quot;configurator/api/v1.0/dtsget/&quot; + setting.device_type_setting_id; $log.info(&quot;Existing device setting url:&quot; + url); var device_div_id = &quot;device-&quot; + device.id; var type_setting_div_id = &quot;setting-&quot; + device.id + &quot;-&quot; + setting.device_type_setting_id; var setting_div_id = type_setting_div_id + &quot;-&quot; + setting.id; var setting_model = &quot;setting_&quot; + device.id + &quot;_&quot; + setting.device_type_setting_id + &quot;_&quot; + setting.id; $log.info(device_div_id + &quot;,&quot; + type_setting_div_id + &quot;,&quot; + setting_model); var device_html = &quot;&quot;; $http.get(url).<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#ad762602853506223a93152b1603ef2f1">then</a>(function (response) {	    var type_setting = <a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">response.data</a>;	    $log.info(&quot;Label:&quot; + type_setting.label );	    	    var label_str = type_setting.label.trim();	    	    <a class="el" href="logger_2static_2js_2vendor_2modernizr-2_86_82-respond-1_81_80_8min_8js.html#a93851d60dd037a83509a1757b9ee7b66">if</a>( $('#'+type_setting_div_id).<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">length</a> == 0 ){		device_html = '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> id=&quot;'+type_setting_div_id+ '&quot; class=&quot;type-setting&quot;&gt;';		if (type_setting.multiple==true) {		    $log.info(type_setting_div_id  + &quot;:is multiple&quot;);		    var tokens = type_setting.label.split('(');		    var label_main = tokens[0].trim();		    device_html += '&lt;label&gt;' + label_main + '&lt;/label&gt;';		    $log.log('&quot;addDeviceSetting('+device.id+ ', '+type_setting.id+ ',\''+type_setting.label+ '\')&quot;');		    		    device_html += '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a102818998483ccc8c61fc5f94a419e7b">style</a>=&quot;float:right&quot;&gt;&lt;a href=&quot;#&quot; <a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">data</a>-ng-<a class="el" href="flot-data_8js.html#af69b6808c31a0f6516024c1450edabb9">click</a>=&quot;addDeviceSetting('+device.id+ ', '+type_setting.id+ ',\''+type_setting.label+ '\')&quot;&gt;Add One&lt;/<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a2c7a1513102e6c7d7d1e67039dafebe4">a</a>&gt; | &lt;<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a2c7a1513102e6c7d7d1e67039dafebe4">a</a> href=&quot;#&quot; &gt;Add More&lt;/<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#a2c7a1513102e6c7d7d1e67039dafebe4">a</a>&gt;&lt;/<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a>&gt; &lt;br/&gt;';		} <a class="el" href="data_tables_8bootstrap_8js.html#a0544c3fe466e421738dae463968b70ba">else</a> <a class="el" href="logger_2static_2js_2vendor_2modernizr-2_86_82-respond-1_81_80_8min_8js.html#a93851d60dd037a83509a1757b9ee7b66">if</a>(label_str[<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">label_str.length</a> - 1]==')'){		    var tokens = type_setting.label.split('(');		    var label_main = tokens[0].trim();		    device_html += '&lt;label&gt;' + label_main + '&lt;/label&gt;'		} <a class="el" href="data_tables_8bootstrap_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{		    $log.info(type_setting_div_id  + &quot;:is not multiple&quot;);		}		device_html += '&lt;/<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a>&gt;'		var compiled_device_html = $compile(device_html)($scope);		$('#'+device_div_id).append(compiled_device_html)	    }	    	    device_html = '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> id=&quot;'+setting_div_id+ '&quot; class=&quot;setting&quot;&gt;';	    var setting_html = &quot;&quot;	    <a class="el" href="logger_2static_2js_2vendor_2modernizr-2_86_82-respond-1_81_80_8min_8js.html#a93851d60dd037a83509a1757b9ee7b66">if</a>(label_str[<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">label_str.length</a>-1]==')'){		$log.info(&quot;Compound Setting:&quot; + setting_div_id + &quot;,&quot; + label_str);				label_str = label_str.substr(0, <a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">label_str.length</a>-1);						var tokens = label_str.split('(');		var label_main = tokens[0].trim();		var label_tokens = tokens[1].split(';');		var value_tokens = setting.value.trim().split(';');				<a class="el" href="raphael_8min_8js.html#ae2cd635fd2aa99a2f485fb2b3b62a027">for</a> (var <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>=0; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>&lt;<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">label_tokens.length</a>; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>++) {		    subsetting_model = setting_model + &quot;_&quot; + i;		    $log.info(&quot;Sub Field:&quot; + label_tokens[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].trim() + &quot;;Id:&quot; + subsetting_model);		    device_html += '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a3f02f9666af9f3831c7a8a654cd3a05b">input</a> type&quot;text&quot; placeholder=&quot;'+label_tokens[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].trim()+ '&quot; ng-model=&quot;'+subsetting_model+ '&quot;/&gt;'		    setting_html += '{{' + subsetting_model + '}};';		    var subsetting_model_var = $<a class="el" href="ui-bootstrap-tpls-0_811_82_8js.html#acc6683281ee3ed362600ffe1c4970e33">parse</a>(subsetting_model);		    subsetting_model_var.assign($scope, value_tokens[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>]);		}	    	    } <a class="el" href="data_tables_8bootstrap_8js.html#a0544c3fe466e421738dae463968b70ba">else</a>{		$log.info(&quot;SimpleSetting:&quot; + setting_div_id + &quot;,&quot; + label_str);		device_html += '&lt;label&gt;' + label_str + '&lt;/label&gt;';		device_html += '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a3f02f9666af9f3831c7a8a654cd3a05b">input</a> type=&quot;text&quot; ng-model=&quot;'+setting_model+ '&quot;/&gt;';		setting_html += '{{' + setting_model + '}};';		var setting_model_var = $<a class="el" href="ui-bootstrap-tpls-0_811_82_8js.html#acc6683281ee3ed362600ffe1c4970e33">parse</a>(setting_model);		setting_model_var.assign($scope, <a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a9d32b6baf31ab8047d93bf7e388971b9">setting.value</a>);	    }	    <a class="el" href="logger_2static_2js_2vendor_2modernizr-2_86_82-respond-1_81_80_8min_8js.html#a93851d60dd037a83509a1757b9ee7b66">if</a> (<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">setting_html.length</a>&gt;=1) { 		setting_html = setting_html.substring(0, <a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">setting_html.length</a>-1)	    }	    var compiled_device_html = $compile(device_html)($scope)	    $('#'+type_setting_div_id).append(compiled_device_html);	    	    $scope.data.settings[setting_model] = $interpolate(setting_html);	}) }; $scope.loadExistingDeviceSettings = function(device){ var url = api_prefix + &quot;configurator/api/v1.0/dslist/&quot; + device.id; $http.get(url).<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#ad762602853506223a93152b1603ef2f1">then</a>(function (response) {	    var settings = <a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">response.data</a>;	    <a class="el" href="raphael_8min_8js.html#ae2cd635fd2aa99a2f485fb2b3b62a027">for</a> (var <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>=0; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>&lt;<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">settings.length</a>; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>++) {		$log.info(&quot;Value:&quot; + settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#a9d32b6baf31ab8047d93bf7e388971b9">value</a>);		$scope.loadExistingDeviceSetting(device, settings[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>]);	    }	}) };  $scope.loadExistingDevices = function(){ $log.info(&quot;Starte loading existing devices&quot;); var url = api_prefix + &quot;configurator/api/v1.0/dlist&quot; $http.get(url).<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#ad762602853506223a93152b1603ef2f1">then</a>(function (response) {	    	    var devices = <a class="el" href="raphael_8min_8js.html#a4e4aa7d822ae0c80a37404bcf5230a9d">response.data</a>;	    <a class="el" href="raphael_8min_8js.html#ae2cd635fd2aa99a2f485fb2b3b62a027">for</a> (var <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>=0; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>&lt;<a class="el" href="logger_2static_2js_2plugins_8js.html#a96e59d5fe177ac26285b3f3f9543b8b9">devices.length</a> &amp;&amp; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>&lt;10; <a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>++){		$log.info(<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a> + &quot;:Device:Title-&quot; + devices[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].title + &quot;Type-&quot; + devices[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].dtype );		$log.info($scope.data.device_types[devices[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].dtype]);		var device_html =		    '&lt;<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a> id=&quot;device-'+devices[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].id+ '&quot;&gt;' +			'&lt;h2&gt;'+ $scope.data.device_types[devices[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].dtype] + &quot;-&quot; + devices[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>].title + '&lt;/h2&gt;' + 				    		    '&lt;/<a class="el" href="logger_2static_2js_2vendor_2jquery-1_811_81_8js.html#aedd1cdc0564f0c4424c38d2c7811b60c">div</a>&gt;'		$log.info(&quot;Device Added:&quot; + device_html);		var compiled_device_html = $compile(device_html)($scope);		$('#devices-holder').append(compiled_device_html);		$scope.loadExistingDeviceSettings(devices[<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#acdc290e3495561da7d3294f2c690ce33">i</a>]);	    }	}) };  $scope.clearSettings = function(){ $scope.data.settings = {} $('#devices-holder').html(&quot;&quot;); } $scope.reloadConfiguration = function(){ $<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#aaa41eef066735d697e7786ec86d52389">window.alert</a>(&quot;Reloading the configuration...&quot;); var url = api_prefix + &quot;configurator/api/v1.0/reload&quot;; $http.get(url).<a class="el" href="ui-bootstrap-tpls-0_811_82_8min_8js.html#ad762602853506223a93152b1603ef2f1">then</a>(function (response) {	    $<a class="el" href="logger_2static_2js_2vendor_2bootstrap_8min_8js.html#aaa41eef066735d697e7786ec86d52389">window.alert</a>(&quot;Configuration Completed&quot;);	    $scope.clearSettings()	    $scope.loadExistingDevices();	}) }; $scope.configure = function(){ $log.info(&quot;Started Configuration&quot;); var url = api_prefix + &quot;configurator/api/v1.0/configure&quot;; var Configuration = $resource(url,{}); var configuration = new Configuration(); <a class="el" href="raphael_8min_8js.html#ae2cd635fd2aa99a2f485fb2b3b62a027">for</a> (var setting in $scope.data.settings) {  setting_value = $scope.$eval($scope.data.settings[setting]); configuration[setting] = setting_value; $log.info(&quot;Setting:&quot; + setting + &quot;,&quot; + setting_value);  } configuration.$save(configuration); } $scope.loadDeviceTypes(); $scope.loadExistingDevices();   }&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a7b225fcb720e4d5ed2bbf60e28a25e6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var app = <a class="el" href="logger_2static_2js_2vendor_2angular-resource_8min_8js.html#a5a1c2e576e2e0b15e4a668ccb70c14a4">angular.module</a>(&quot;configurator&quot;, ['ngResource', 'ngDialog'])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="main-controller-v1_8js_source.html#l00002">2</a> of file <a class="el" href="main-controller-v1_8js_source.html">main-controller-v1.js</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_4cb510ce2ee9d0d83bca9d4acffcacb0.html">input</a></li><li class="navelem"><a class="el" href="dir_f833430a103ee323c2f85140d7ebb6ab.html">UnifiedStack</a></li><li class="navelem"><a class="el" href="dir_1767749242f95d7b8e4365c54ceeffb8.html">unifiedstack</a></li><li class="navelem"><a class="el" href="dir_9ed9623f7ba99f32f99dbb1930ba72c7.html">configurator</a></li><li class="navelem"><a class="el" href="dir_9c3133b3f72e7a3e14dd03bad6e9e640.html">static</a></li><li class="navelem"><a class="el" href="dir_7d5ca25c4ce96d069725f14c20385c6b.html">configurator</a></li><li class="navelem"><a class="el" href="dir_cccc850367cb23e166b3f3ddd6740b81.html">js</a></li><li class="navelem"><a class="el" href="dir_499be4020e6c12ee4ef4afbde36ff7bc.html">deprecated</a></li><li class="navelem"><a class="el" href="main-controller-v1_8js.html">main-controller-v1.js</a></li>
    <li class="footer">Generated on Tue Jan 13 2015 15:31:11 for UnifiedStack by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
